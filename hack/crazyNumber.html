<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    

    <title>終極密碼</title>
</head>
<body>
    
    <div class="container border d-flex flex-wrap justify-content-center">
        <div class="contain border col-10 mt-4 mb-4 text-center" style="height: 100px;"></div>
        <div class="enter  d-flex flex-wrap justify-content-center col-4 border">
            <button id="set" class="btn btn-primary">產生數字</button>
            <input class="col-12" type="text">
            <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                <div class="btn-group m-2 col-11" role="group" aria-label="First group">
                    <button onclick="enterNum(1)" type="button" class="btn btn-primary">1</button>
                    <button onclick="enterNum(2)" type="button" class="btn btn-primary">2</button>
                    <button onclick="enterNum(3)" type="button" class="btn btn-primary">3</button>
                </div>
                <div class="btn-group m-2 col-11" role="group" aria-label="First group">
                    <button onclick="enterNum(4)" type="button" class="btn btn-primary">4</button>
                    <button onclick="enterNum(5)" type="button" class="btn btn-primary">5</button>
                    <button onclick="enterNum(6)" type="button" class="btn btn-primary">6</button>
                </div>
                <div class="btn-group m-2 col-11" role="group" aria-label="First group">
                    <button onclick="enterNum(7)" type="button" class="btn btn-primary">7</button>
                    <button onclick="enterNum(8)" type="button" class="btn btn-primary">8</button>
                    <button onclick="enterNum(9)" type="button" class="btn btn-primary">9</button>
                </div>
                <div class="btn-group m-2 col-11" role="group" aria-label="First group">
                    <button id="btnX" type="button" class="btn btn-secondary">X</button>
                    <button onclick="enterNum(0)" type="button" class="btn btn-primary">0</button>
                    <button id="btnY" type="button" class="btn btn-secondary">√</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <script>
        let answer;
        window.onload = function(){
            
        }
        document.getElementById('set').onclick = setAnswer;
        function setAnswer(){
            answer = Math.floor(Math.random()*100);
            // console.log(answer) 
            if(answer == 0){
                setAnswer()
            }
            start = "0";
            end = "100";
        h1.innerText= `${start} ~ ${end}`;
        }

        ///結果顯示
        let contain = document.querySelector(".contain");
        let h1 = document.createElement("h1");
        let start = "0";
        let end = "100";
        h1.innerText= `${start} ~ ${end}`;
        contain.appendChild(h1);


        let input = document.querySelector("input");
        function enterNum(v){ 
            if(input.value.length < 2){
                input.value += v
            }else{
                alert("最多兩位數")
            }
        }
        document.getElementById("btnX").addEventListener("click", function(){
            input.value ="";
        })

        document.getElementById("btnY").addEventListener("click", function(){
            if(answer == undefined){
                alert("請先按產生數字")
            }else if(input.value ==""){
                alert("空的?")
            }
            let Ans = parseInt(input.value,10)
            if(Ans > answer){
                if(end < Ans){
                    alert('不能輸入比範圍大的數字')
                    return
                }
                end = Ans;
                h1.innerText= `${start} ~ ${end}`;
            }else if(Ans < answer){
                if(start > Ans){
                    alert('不能輸入比範圍小的數字')
                    return
                }
                start = Ans;
                h1.innerText= `${start} ~ ${end}`;
            }else if(Ans == answer){
                h1.innerText = `答案就是${Ans}` 
                answer = undefined;           
            }
            input.value ="";
        })


    </script>

</body>
</html>